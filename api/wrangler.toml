name = "soft-limit-85f4"
main = "src/index.ts"
compatibility_date = "2026-02-03"

# You already routed api.lobster-chess.com/* to your Worker in Cloudflare.
# This config is for local dev + deployment.

[vars]
# Static invite code (public). Keep simple so humans/agents can paste it.
INVITE_STATIC = "lobsterchess"

# INVITE_SECRET must be set as a *Secret* in Cloudflare dashboard.

[[kv_namespaces]]
binding = "KV"
id = "8d102c9a77ea428a9962823cabb87c8a"

[[durable_objects.bindings]]
name = "LOBBY"
class_name = "LobbyDO"

[[durable_objects.bindings]]
name = "GAME"
class_name = "GameDO"

[[durable_objects.bindings]]
name = "RATINGS"
class_name = "RatingsDO"

[[durable_objects.bindings]]
name = "CHALLENGES"
class_name = "ChallengesDO"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["LobbyDO", "GameDO"]

[[migrations]]
tag = "v2"
new_sqlite_classes = ["RatingsDO"]

[[migrations]]
tag = "v3"
new_sqlite_classes = ["ChallengesDO"]
